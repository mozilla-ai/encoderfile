
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mozilla-ai.github.io/encoderfile/0.1.0-rc.20/reference/encoderfile_binary_cli/">
      
      
        <link rel="prev" href="../encoderfile_util_cli/">
      
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Encoderfile Binary CLI - Encoderfile</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="grey" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#encoderfile-cli-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Encoderfile" class="md-header__button md-logo" aria-label="Encoderfile" data-md-component="logo">
      
  <img src="../../assets/favicon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Encoderfile
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Encoderfile Binary CLI
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/mozilla-ai/encoderfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting_started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../transforms/" class="md-tabs__link">
          
  
  
  Transforms

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../encoderfile_util_cli/" class="md-tabs__link">
          
  
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Encoderfile" class="md-nav__button md-logo" aria-label="Encoderfile" data-md-component="logo">
      
  <img src="../../assets/favicon.svg" alt="logo">

    </a>
    Encoderfile
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mozilla-ai/encoderfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Transforms
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transforms/reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../encoderfile_util_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Encoderfile Build CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Encoderfile Binary CLI
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Encoderfile Binary CLI
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serve" class="md-nav__link">
    <span class="md-ellipsis">
      
        serve
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="serve">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#infer" class="md-nav__link">
    <span class="md-ellipsis">
      
        infer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="infer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Arguments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-embedding-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Embedding Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sequence-classification-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Sequence Classification Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-token-classification-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Token Classification Models
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-formats" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output Formats
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#embedding-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embedding Output
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-classification-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sequence Classification Output
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token-classification-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Token Classification Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-output-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Saving Output to File
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Error Handling
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-inference-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Inference Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Processing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-server-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Server Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#both-servers-cannot-be-disabled" class="md-nav__link">
    <span class="md-ellipsis">
      
        Both servers cannot be disabled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-not-appearing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output not appearing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-type-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model type detection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Resources
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serve" class="md-nav__link">
    <span class="md-ellipsis">
      
        serve
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="serve">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#infer" class="md-nav__link">
    <span class="md-ellipsis">
      
        infer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="infer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Arguments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-embedding-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Embedding Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sequence-classification-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Sequence Classification Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-token-classification-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Token Classification Models
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-formats" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output Formats
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#embedding-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embedding Output
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-classification-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sequence Classification Output
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token-classification-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Token Classification Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-output-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Saving Output to File
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Error Handling
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-inference-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Inference Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Processing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-server-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Server Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#both-servers-cannot-be-disabled" class="md-nav__link">
    <span class="md-ellipsis">
      
        Both servers cannot be disabled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-not-appearing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output not appearing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-type-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model type detection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Resources
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="encoderfile-cli-documentation">Encoderfile CLI Documentation</h1>
<h2 id="overview">Overview</h2>
<p>Encoderfile is a command-line tool for running machine learning inference tasks using transformer models. It supports multiple model types including embeddings, sequence classification, and token classification. The tool can operate in two modes: as a server (HTTP/gRPC) or as a standalone inference tool.</p>
<h2 id="architecture">Architecture</h2>
<p>The CLI is built with the following components:
- <strong>Server Mode</strong>: Hosts models via HTTP and/or gRPC endpoints
- <strong>Inference Mode</strong>: Performs one-off inference operations from the command line
- <strong>Multi-Model Support</strong>: Automatically detects and routes to the appropriate model type</p>
<h2 id="commands">Commands</h2>
<h3 id="serve"><code>serve</code></h3>
<p>Starts the encoderfile server with HTTP and/or gRPC endpoints for model inference.</p>
<h4 id="usage">Usage</h4>
<pre><code class="language-bash">encoderfile serve [OPTIONS]
</code></pre>
<h4 id="options">Options</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--grpc-hostname</code></td>
<td>String</td>
<td><code>[::]</code></td>
<td>Hostname/IP address for the gRPC server</td>
</tr>
<tr>
<td><code>--grpc-port</code></td>
<td>String</td>
<td><code>50051</code></td>
<td>Port for the gRPC server</td>
</tr>
<tr>
<td><code>--http-hostname</code></td>
<td>String</td>
<td><code>0.0.0.0</code></td>
<td>Hostname/IP address for the HTTP server</td>
</tr>
<tr>
<td><code>--http-port</code></td>
<td>String</td>
<td><code>8080</code></td>
<td>Port for the HTTP server</td>
</tr>
<tr>
<td><code>--disable-grpc</code></td>
<td>Boolean</td>
<td><code>false</code></td>
<td>Disable the gRPC server</td>
</tr>
<tr>
<td><code>--disable-http</code></td>
<td>Boolean</td>
<td><code>false</code></td>
<td>Disable the HTTP server</td>
</tr>
</tbody>
</table>
<h4 id="examples">Examples</h4>
<p><strong>Start both HTTP and gRPC servers (default):</strong></p>
<pre><code class="language-bash">encoderfile serve
</code></pre>
<p><strong>Start only HTTP server:</strong></p>
<pre><code class="language-bash">encoderfile serve --disable-grpc
</code></pre>
<p><strong>Start only gRPC server:</strong></p>
<pre><code class="language-bash">encoderfile serve --disable-http
</code></pre>
<p><strong>Custom ports and hostnames:</strong></p>
<pre><code class="language-bash">encoderfile serve \
  --http-hostname 127.0.0.1 \
  --http-port 3000 \
  --grpc-hostname localhost \
  --grpc-port 50052
</code></pre>
<h4 id="notes">Notes</h4>
<ul>
<li>At least one server type (HTTP or gRPC) must be enabled</li>
<li>The server will display a banner upon successful startup</li>
<li>Both servers run concurrently using async tasks</li>
</ul>
<hr />
<h3 id="infer"><code>infer</code></h3>
<p>Performs inference on input text using the configured model. The model type is automatically detected based on configuration.</p>
<h4 id="usage_1">Usage</h4>
<pre><code class="language-bash">encoderfile infer &lt;INPUTS&gt;... [OPTIONS]
</code></pre>
<h4 id="arguments">Arguments</h4>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;INPUTS&gt;</code></td>
<td>Yes</td>
<td>One or more text strings to process</td>
</tr>
</tbody>
</table>
<h4 id="options_1">Options</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-f, --format</code></td>
<td>Enum</td>
<td><code>json</code></td>
<td>Output format (currently only JSON supported)</td>
</tr>
<tr>
<td><code>-o, --out-dir</code></td>
<td>String</td>
<td>None</td>
<td>Output file path; if not provided, prints to stdout</td>
</tr>
</tbody>
</table>
<h4 id="model-types">Model Types</h4>
<p>The inference behavior depends on the model type configured:</p>
<h5 id="1-embedding-models">1. Embedding Models</h5>
<p>Generates vector embeddings for input text.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">encoderfile infer &quot;Hello world&quot; &quot;Another sentence&quot;
</code></pre>
<p><strong>With normalization disabled:</strong></p>
<pre><code class="language-bash">encoderfile infer &quot;Hello world&quot; --normalize=false
</code></pre>
<h5 id="2-sequence-classification-models">2. Sequence Classification Models</h5>
<p>Classifies entire sequences (e.g., sentiment analysis, topic classification).</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">encoderfile infer &quot;This product is amazing!&quot; &quot;I'm very disappointed&quot;
</code></pre>
<h5 id="3-token-classification-models">3. Token Classification Models</h5>
<p>Labels individual tokens (e.g., Named Entity Recognition, Part-of-Speech tagging).</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">encoderfile infer &quot;Apple Inc. is located in Cupertino, California&quot;
</code></pre>
<h4 id="output-formats">Output Formats</h4>
<p>Currently, only JSON format is supported (<code>--format json</code>). The output structure varies by model type:</p>
<h5 id="embedding-output">Embedding Output</h5>
<pre><code class="language-json">{
  &quot;embeddings&quot;: [
    [0.123, -0.456, 0.789, ...],
    [0.321, -0.654, 0.987, ...]
  ],
  &quot;metadata&quot;: null
}
</code></pre>
<h5 id="sequence-classification-output">Sequence Classification Output</h5>
<pre><code class="language-json">{
  &quot;predictions&quot;: [
    {
      &quot;label&quot;: &quot;POSITIVE&quot;,
      &quot;score&quot;: 0.9876
    },
    {
      &quot;label&quot;: &quot;NEGATIVE&quot;,
      &quot;score&quot;: 0.8765
    }
  ],
  &quot;metadata&quot;: null
}
</code></pre>
<h5 id="token-classification-output">Token Classification Output</h5>
<pre><code class="language-json">{
  &quot;predictions&quot;: [
    {
      &quot;tokens&quot;: [&quot;Apple&quot;, &quot;Inc.&quot;, &quot;is&quot;, &quot;located&quot;, &quot;in&quot;, &quot;Cupertino&quot;, &quot;,&quot;, &quot;California&quot;],
      &quot;labels&quot;: [&quot;B-ORG&quot;, &quot;I-ORG&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;B-LOC&quot;, &quot;O&quot;, &quot;B-LOC&quot;]
    }
  ],
  &quot;metadata&quot;: null
}
</code></pre>
<h4 id="saving-output-to-file">Saving Output to File</h4>
<p><strong>Save results to a file:</strong></p>
<pre><code class="language-bash">encoderfile infer &quot;Sample text&quot; -o results.json
</code></pre>
<p><strong>Process multiple inputs and save:</strong></p>
<pre><code class="language-bash">encoderfile infer &quot;First input&quot; &quot;Second input&quot; &quot;Third input&quot; --out-dir output.json
</code></pre>
<h2 id="configuration">Configuration</h2>
<p>The CLI relies on external configuration to determine:
- Model type (Embedding, SequenceClassification, TokenClassification)
- Model path and parameters
- Server settings</p>
<p>Ensure your configuration is properly set before running commands. Refer to the main encoderfile configuration documentation for details.</p>
<h2 id="error-handling">Error Handling</h2>
<p>The CLI will return appropriate error messages for:
- Invalid configuration (e.g., both servers disabled)
- Missing required arguments
- Model loading failures
- Inference errors
- File I/O errors</p>
<h2 id="examples_1">Examples</h2>
<h3 id="basic-inference-workflow">Basic Inference Workflow</h3>
<pre><code class="language-bash"># Set up configuration (example)
export MODEL_PATH=/path/to/model
export MODEL_TYPE=embedding

# Run inference
encoderfile infer &quot;Hello world&quot;

# Save to file
encoderfile infer &quot;Hello world&quot; -o embedding.json
</code></pre>
<h3 id="server-workflow">Server Workflow</h3>
<pre><code class="language-bash"># Terminal 1: Start server
encoderfile serve --http-port 8080

# Terminal 2: Make HTTP requests (using curl)
curl -X POST http://localhost:8080/infer \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;inputs&quot;: [&quot;Hello world&quot;], &quot;normalize&quot;: true}'
</code></pre>
<h3 id="batch-processing">Batch Processing</h3>
<pre><code class="language-bash"># Process multiple inputs at once
encoderfile infer \
  &quot;First document to analyze&quot; \
  &quot;Second document to analyze&quot; \
  &quot;Third document to analyze&quot; \
  --out-dir batch_results.json
</code></pre>
<h3 id="custom-server-configuration">Custom Server Configuration</h3>
<pre><code class="language-bash"># Run on specific network interface with custom ports
encoderfile serve \
  --http-hostname 192.168.1.100 \
  --http-port 3000 \
  --grpc-hostname 192.168.1.100 \
  --grpc-port 50052
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="both-servers-cannot-be-disabled">Both servers cannot be disabled</h3>
<p><strong>Error</strong>: "Cannot disable both gRPC and HTTP"</p>
<p><strong>Solution</strong>: Enable at least one server type:  </p>
<pre><code class="language-bash">encoderfile serve --disable-grpc  # Keep HTTP enabled
# OR
encoderfile serve --disable-http  # Keep gRPC enabled
</code></pre>
<h3 id="output-not-appearing">Output not appearing</h3>
<p>If output isn't visible, check:
1. Ensure you're not redirecting output to a file unintentionally
2. Check file permissions if using <code>--out-dir</code>
3. Verify the model is correctly configured</p>
<h3 id="model-type-detection">Model type detection</h3>
<p>The CLI automatically detects model type from configuration. If inference behaves unexpectedly:
1. Verify your model configuration
2. Ensure the model type matches your use case
3. Check model compatibility</p>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li>GitHub Repository: <a href="https://github.com/mozilla-ai/encoderfile">mozilla-ai/encoderfile</a></li>
<li>API Documentation: Refer to the server API docs for HTTP/gRPC endpoint specifications</li>
<li>Model Configuration: See configuration documentation for model setup</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>